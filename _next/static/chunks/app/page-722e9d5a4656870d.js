(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2431:function(){},2713:function(e,t,o){Promise.resolve().then(o.bind(o,2862))},106:function(e,t,o){"use strict";o.d(t,{Z:function(){return u},x:function(){return c}});var n=o(8472),a=o(7641),s=o(277);let r=n.Z.create({baseURL:"https://edge01.fai-platform.com:19101",timeout:3e4,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers["x-api-token"]=t),console.log((0,s.parseCookies)()),e},e=>Promise.reject(e));let l=async()=>{try{console.log("로그아웃")}catch(e){console.log("logout failed or token invalid")}finally{a.default.replace("/login")}};r.interceptors.response.use(e=>e,async e=>{var t,o,n,a;if(e.config,(null===(t=e.response)||void 0===t?void 0:t.status)==401||(null===(o=e.response)||void 0===o?void 0:o.data.code)==="E00401"){console.log("axios error logout"),await l();return}return(null===(n=e.response)||void 0===n?void 0:n.data.code)==="E00001"||null===(a=e.response)||void 0===a||a.data.code,Promise.reject(e)});let c=async e=>{try{let t=await r.post("/v1/users/login",e);if(t.data&&2e3===t.data.resultCodeNo)return{success:!0,data:t.data.resultData};return{success:!1,data:t.data.resultMsg}}catch(e){console.error(e)}},u=async e=>{try{let t=await r.get("/v1/admin/users",{params:e});if(t.data&&2e3===t.data.resultCodeNo)return{success:!0,data:t.data.resultData};return{success:!1,data:t.data.resultMsg}}catch(e){console.log(e)}}},2862:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var n=o(7437),a=o(9671),s=o.n(a),r=o(1169),l=o(277),c=o(106);function u(){let e=(0,r.useRouter)(),t=async()=>{let t={};t.lgnId="faie01user01",t.lgnPswd="1234";let{success:o,data:n}=await (0,c.x)(t);o?(localStorage.setItem("token",n.token),(0,l.setCookie)(null,"accessToken",n.token,{maxAge:86400,path:"/"}),localStorage.setItem("refToken",n.refToken),setTimeout(()=>{e.push("/about")},100)):alert(n)};return(0,n.jsxs)("div",{className:s().container,children:[(0,n.jsx)("div",{children:"채연님, Hello"}),(0,n.jsx)("button",{type:"button",className:s().btn,onClick:t,children:"토큰 저장하기"})]})}},9671:function(e){e.exports={container:"page_container__aoG4z",btn:"page_btn__VzVq_",content:"page_content__kDoxQ"}}},function(e){e.O(0,[967,578,971,23,744],function(){return e(e.s=2713)}),_N_E=e.O()}]);