(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4167:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(6964)}])},823:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},x:function(){return l}});var o=n(7066),a=n(1163),s=n.n(a);let r=o.Z.create({baseURL:"https://edge01.fai-platform.com:19101",timeout:3e4,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers["x-api-token"]=t),e},e=>Promise.reject(e));let c=async()=>{try{console.log("로그아웃")}catch(e){console.log("logout failed or token invalid")}finally{s().replace("/login")}};r.interceptors.response.use(e=>e,async e=>{var t,n,o,a;if(e.config,(null===(t=e.response)||void 0===t?void 0:t.status)==401||(null===(n=e.response)||void 0===n?void 0:n.data.code)==="E00401"){console.log("axios error logout"),await c();return}return(null===(o=e.response)||void 0===o?void 0:o.data.code)==="E00001"||null===(a=e.response)||void 0===a||a.data.code,Promise.reject(e)});let l=async e=>{try{let t=await r.post("/v1/users/login",e);if(t.data&&2e3===t.data.resultCodeNo)return{success:!0,data:t.data.resultData};return{success:!1,data:t.data.resultMsg}}catch(e){console.error(e)}},u=async e=>{try{let t=await r.get("/v1/admin/users",{params:e});if(t.data&&2e3===t.data.resultCodeNo)return{success:!0,data:t.data.resultData};return{success:!1,data:t.data.resultMsg}}catch(e){console.log(e)}}},6964:function(e,t,n){"use strict";n.r(t);var o=n(5893),a=n(1163),s=n(8132),r=n.n(s),c=n(823);t.default=()=>{let e=(0,a.useRouter)(),t=async()=>{let t={};t.lgnId="faie01user01",t.lgnPswd="1234";let{success:n,data:o}=await (0,c.x)(t);n?(localStorage.setItem("token",o.token),localStorage.setItem("refToken",o.refToken),setTimeout(()=>{e.push("/about")},100)):alert(o)};return(0,o.jsxs)("div",{className:r().container,children:[(0,o.jsx)("div",{children:"Hello"}),(0,o.jsx)("button",{type:"button",className:r().btn,onClick:t,children:"토큰 저장하기"})]})}},8132:function(e){e.exports={container:"page_container__TshUg",btn:"page_btn__cVTPP",content:"page_content__E_fK3"}}},function(e){e.O(0,[143,888,774,179],function(){return e(e.s=4167)}),_N_E=e.O()}]);